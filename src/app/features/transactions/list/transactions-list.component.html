<app-container>
	<div class="max-w-7xl mx-auto p-6">
		<!-- Header Section -->
		<div class="mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between">
			<div>
				<h1 class="text-2xl font-bold text-gray-900 dark:text-white">
					Transactions
				</h1>
				<p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
					Manage and view all your financial transactions
				</p>
			</div>

			<!-- Action Buttons -->
			<div class="mt-4 sm:mt-0 flex space-x-3">
				<button (click)="refreshData()"
					class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
					<svg class="-ml-1 mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
							d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
						</path>
					</svg>
					Refresh
				</button>
			</div>
		</div>

		<!-- Statistics Cards -->
		<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
			<div class="bg-white dark:bg-gray-900 overflow-hidden shadow rounded-lg">
				<div class="p-5">
					<div class="flex items-center">
						<div class="flex-shrink-0">
							<div
								class="w-8 h-8 bg-green-100 dark:bg-green-900 rounded-md flex items-center justify-center">
								<span class="text-green-600 dark:text-green-400 text-lg">ðŸ’°</span>
							</div>
						</div>
						<div class="ml-5 w-0 flex-1">
							<dl>
								<dt class="text-sm font-medium text-gray-500 dark:text-gray-400 truncate">
									Total Income
								</dt>
								<dd class="text-lg font-medium text-gray-900 dark:text-white">
									{{
									transactions
									| filter : "transaction_type" : "IN"
									| sum : "amount"
									| currency
									: currencyService.getCurrencyInfo()
									.code
									: currencyService.getCurrencyInfo()
									.symbol
									: "1.2-2"
									: currencyService.getCurrencyInfo()
									.locale
									}}
								</dd>
							</dl>
						</div>
					</div>
				</div>
			</div>

			<div class="bg-white dark:bg-gray-900 overflow-hidden shadow rounded-lg">
				<div class="p-5">
					<div class="flex items-center">
						<div class="flex-shrink-0">
							<div class="w-8 h-8 bg-red-100 dark:bg-red-900 rounded-md flex items-center justify-center">
								<span class="text-red-600 dark:text-red-400 text-lg">ðŸ’¸</span>
							</div>
						</div>
						<div class="ml-5 w-0 flex-1">
							<dl>
								<dt class="text-sm font-medium text-gray-500 dark:text-gray-400 truncate">
									Total Expenses
								</dt>
								<dd class="text-lg font-medium text-gray-900 dark:text-white">
									{{
									transactions
									| filter
									: "transaction_type"
									: "OUT"
									| sum : "amount"
									| currency
									: currencyService.getCurrencyInfo()
									.code
									: currencyService.getCurrencyInfo()
									.symbol
									: "1.2-2"
									: currencyService.getCurrencyInfo()
									.locale
									}}
								</dd>
							</dl>
						</div>
					</div>
				</div>
			</div>

			<div class="bg-white dark:bg-gray-900 overflow-hidden shadow rounded-lg">
				<div class="p-5">
					<div class="flex items-center">
						<div class="flex-shrink-0">
							<div
								class="w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-md flex items-center justify-center">
								<span class="text-blue-600 dark:text-blue-400 text-lg">ðŸ“Š</span>
							</div>
						</div>
						<div class="ml-5 w-0 flex-1">
							<dl>
								<dt class="text-sm font-medium text-gray-500 dark:text-gray-400 truncate">
									Total Transactions
								</dt>
								<dd class="text-lg font-medium text-gray-900 dark:text-white">
									{{ transactions.length }}
								</dd>
							</dl>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Transactions Table -->
		<div class="bg-white dark:bg-gray-800 shadow rounded-lg">
			<div class="px-6 py-4 ">
				<h3 class="text-lg font-medium text-gray-900 dark:text-white">
					Recent Transactions
				</h3>
			</div>

			<app-table [headers]="headers" [data]="data" [loading]="loading" [striped]="true" [hoverable]="true"
				[responsive]="true" [bordered]="true">
			</app-table>
		</div>
	</div>

	<!-- Floating Action Button -->
	<div data-dial-init class="fixed end-6 bottom-6 group">
		<button type="button" [routerLink]="['/main/transactions/create']"
			aria-controls="speed-dial-menu-text-inside-button-square" aria-expanded="false"
			class="flex items-center justify-center text-white bg-blue-700 rounded-lg w-14 h-14 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 focus:outline-none dark:focus:ring-blue-800 transition-all duration-200 hover:scale-110">
			<svg class="w-5 h-5 transition-transform group-hover:rotate-45" aria-hidden="true"
				xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
				<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
					d="M9 1v16M1 9h16" />
			</svg>
			<span class="sr-only">Create new transaction</span>
		</button>
	</div>
</app-container>